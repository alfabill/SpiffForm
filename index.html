<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<head>
  <title>SpiffForm Demo</title>
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />
  <link rel="stylesheet" href="spiffform/res/spiffform.css" />
  <link rel="stylesheet" href="default.css" />
  <link rel="stylesheet" type="text/css"
    href="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/themes/base/jquery-ui.css"/>
</head>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js" type="text/javascript"></script>
<script src="spiffform/spiffform.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function() {
    var panel = new SpiffFormPanel($('#panel'));
    var form = new SpiffForm($('#form'));
    form.set_name('Feedback Form Demo');
    form.set_subtitle('Let us know what you think!');

    var choose = form.append(new SpiffFormDropdownList());
    choose.set_label('Complaint type');
    choose.add_option('');
    choose.add_option('Customer service');
    choose.select(1);

    var entry = form.append(new SpiffFormEntryField());
    entry.set_label('Complaint summary');
    entry.set_text('Stop sending me emails');

    var textbox = form.append(new SpiffFormTextArea());
    textbox.set_label('Irrelevant text');
    textbox.set_text('For the love of Jebus');

    var checkbox = form.append(new SpiffFormCheckbox());
    checkbox.set_label('Please send more spam to my inbox');

    $('#make-editable').click(function() {
        $(this).slideToggle("slow");
        $('#sidebar-elements').slideToggle("slow");
        form.make_editable(panel);

        $(".ui-elements li").each(function() {
            $(this).draggable({
                "helper": function() {
                    return $(this).clone();
                },
                "cursorAt": {'right': -5},
                "stop": function(event, ui) {
                    var cls = spiffform_elements[$(this).attr('name')];
                    form.insert_at(event, new cls());
                }
            });
        });
    });
    $('#serialize').click(function() {
        alert(form.serialize(SpiffFormJSONSerializer));
    });
});
</script>

<body>

<div id="header"><h1>SpiffForm Demo</h1></div>
<div id="wrap">
  <div id="center">
    <div id="form" class="spiffform">
    </div>
  </div>

  <div id="sidebar">
    <div id="make-editable"><input type="button" value="Make editable!"/></div>
    <div id="panel" class="spiffform-panel"></div>

    <div id="sidebar-elements">
      <h3>Text Input</h3>
      <ul class="ui-elements">
        <li id="ui-entry" name="entryfield">Text Field (single line)</li>
        <li id="ui-text" name="textarea">Text Area (multi line)</li>
      </ul>

      <!-- h3>Buttons</h3>
      <ul class="ui-elements">
        <li id="ui-button" name="button">Submit Form</li>
      </ul -->

      <h3>Other Elements</h3>
      <ul class="ui-elements">
        <li id="ui-checkbox" name="checkbox">Checkbox</li>
        <li id="ui-calendar" name="datepicker">Date Picker</li>
        <li id="ui-combo" name="dropdownlist">Dropdown List</li>
      </ul>
    </div>

    <div id="serialize"><input type="button" value="Serialize"/></div>
  </div>
</div>

</body>
</html>
